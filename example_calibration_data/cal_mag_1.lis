Magneto 1.4 4/24/2020 
Input .csv file? icm_20948_cal_mag.csv
  0   -231     29    161
  1   -233     35    167
  2   -228     38    172
  3   -240     38    176
  4   -234     32    173
  5   -239     41    173
  6   -242     35    169
  7   -231     37    171
  8   -237     43    174
  9   -237     35    165
 10   -230     38    172
 11   -246     41    178
 12   -233     35    169
 13   -247     48    169
 14   -301     39    147
 15   -286      7    152
 16   -270    -19    164
 17   -290    -72    148
 18   -311   -107    132
 19   -322   -125    135
 20   -333   -154    120
 21   -333   -183     97
 22   -316   -233     94
 23   -314   -272     80
 24   -313   -288     39
 25   -304   -327      3
 26   -323   -332    -59
 27   -315   -348   -105
 28   -316   -354   -188
 29   -308   -345   -229
 30   -322   -306   -276
 31   -322   -266   -346
 32   -313   -241   -342
 33   -300   -201   -369
 34   -290   -159   -399
 35   -271   -117   -418
 36   -251    -79   -440
 37   -251    -51   -440
 38   -245      3   -439
 39   -224     51   -412
 40   -218    127   -406
 41   -204    151   -404
 42   -282    158   -367
 43   -352    149   -305
 44   -394    153   -239
 45   -445    104   -169
 46   -456     59    -70
 47   -451     29      4
 48   -421    -28     62
 49   -384    -98     96
 50   -315   -150    138
 51   -229   -180    178
 52   -158   -193    169
 53   -101   -213    139
 54    -71   -234    135
 55    -19   -246    100
 56      9   -286     23
 57      2   -343   -100
 58    -56   -364   -172
 59   -105   -372   -217
 60   -137   -374   -228
 61   -170   -366   -237
 62   -255   -365   -206
 63   -339   -350   -159
 64   -371   -287    -36
 65   -404   -249     -7
 66   -418   -185     35
 67   -404   -172     65
 68   -389   -182     72
 69   -249   -154    141
 70   -182   -134    165
 71   -100    -76    175
 72    -35    -22    154
 73     57    -17     89
 74    124      2      9
 75    160      4    -51
 76    168      6    -97
 77    173     -3   -151
 78    142    -13   -275
 79    149      6   -249
 80    109     14   -332
 81     47     49   -384
 82     13     80   -387
 83     -2    106   -389
 84     22    122   -366
 85     59    167   -274
 86     58    169   -275
 87     47    177   -260
 88     44    203   -226
 89     33    199   -255
 90     31    217   -239
 91    -29    255   -195
 92   -106    272   -106
 93   -153    266    -63
 94   -206    257    -19
 95   -267    207     28
 96   -294    172     46
 97   -274    138     91
 98   -136     93    166
 99    -49     77    151
100     49     33    108
101    103     33     50
102    119     49      0
103    138     93    -98
104    137     99   -172
105    131     86   -250
106    106     23   -338
107     39    -23   -408
108    -54   -101   -459
109   -108   -178   -441
110   -135   -299   -373
111   -141   -348   -318
112   -144   -376   -261
113   -137   -386   -223
114   -115   -386   -146
115    -95   -380    -49
116    -63   -344     12
117    -68   -329     64
118    -88   -276     91
119    -92   -270    116
120    -76   -227    145
121    -75   -169    160
122    -64   -108    187
123   -114     -4    189
124   -119     66    171
125    -98    101    150
126    -75    166    108
127    -37    191     62
128     63    178      3
129    127    134    -99
130    157     64   -159
131    168     -3   -216
132    123   -102   -301
133     62   -177   -342
134     -5   -235   -385
135   -127   -267   -390
136   -225   -307   -343
137   -290   -336   -247
138   -308   -362   -180
139   -264   -371    -45
140   -259   -304     80
141   -218   -238    160
142    -77   -166    207
143    -34   -144    176
144    -33    -81    166
145    -72    -65    176
146   -144    -25    200
147   -237    -18    179
148   -384    -24    112
149   -413    -61     89
150   -406   -140     58
151   -402   -188     38
152   -383   -188     57
153   -356   -138    107
154   -322    -91    154
155   -268    -30    176
156   -204     35    167
157   -139    104    144
158   -135    144    123
159   -126    150    114
160    -82    186     80
161    -44    211     29
162    -22    250    -48
163    -15    240   -118
164      0    234   -239
165      9    212   -292
166     49    149   -329
167     46     60   -394
168     -2    -44   -440
169    -21   -143   -426
170    -63   -233   -390
171   -105   -325   -325
172   -112   -365   -225
173   -147   -393   -165
174   -212   -387   -126
175   -278   -378   -155
176   -307   -327   -202
177   -289   -306   -281
178   -218   -322   -315
179   -127   -349   -287
180    -99   -349   -275
181    -90   -370   -239
182    -74   -365   -208
183    -66   -380   -187
184    -78   -372   -159
185    -89   -386   -130
186   -126   -382   -133
187   -150   -392   -142
188   -167   -387   -147
189   -175   -396   -162
190   -180   -388   -172
191   -193   -387   -199
192   -182   -374   -247
193   -155   -360   -281
194   -112   -353   -276
195    -50   -355   -234
196    -44   -361   -179
197    -28   -357   -157
198    -28   -350   -182
199    -15   -344   -186
200    -20   -327   -244
201    -38   -303   -335
202    -54   -296   -339
203    -27   -275   -348
204    -11   -269   -344
205     27   -267   -310
206     46   -302   -209
207     65   -307   -148
208     60   -297   -106
209     46   -295    -52
210     39   -287    -26
211     -2   -256     65
212   -125   -174    162
213   -150    -83    175
214   -181      7    166
215   -170     62    174
216   -236     71    145
217   -298     83    138
218   -358     74     84
219   -413     69     42
220   -443     60    -26
221   -463     79    -96
222   -466     93   -175
223   -429     87   -317
224   -363     98   -386
225   -267    158   -367
226   -233    188   -359
227   -264    193   -355
228   -248    202   -344
229   -240    245   -275
230   -242    248   -256
231   -182    287   -198
232   -142    277   -188
233   -118    285   -167
234    -92    280   -120
235    -66    269    -72
236    -33    232    -23
237    -14    197     23
238     22    124     66
239     34     80    106
240     63     25     94
241     53     -6    111
242     51    -40    111
243     29   -146    108
244     14   -195    112
245    -13   -206    108
246    -37   -243     99
247    -72   -277     85
248    -87   -324     41
249   -117   -355     -2
250   -111   -374    -59
251   -129   -397   -145
252   -168   -376   -214
253   -206   -361   -289
254   -246   -330   -328
255   -261   -282   -373
256   -231   -219   -435
257   -151   -188   -462
258     -1   -129   -439
259     51   -109   -404
260    121   -108   -300
261    139   -122   -223
262    157   -145   -150
263    144   -174    -94
264    126   -190    -60
265     81   -204      7
266     16   -256     21
267    -11   -303      2
268    -62   -338    -28
269   -133   -382    -79
270   -196   -390   -166
271   -204   -376   -209
272   -230   -366   -240
273   -223   -349   -270
274   -196   -254   -403
275   -197   -171   -451
276   -157   -128   -464
277   -166   -109   -479
278    -88    -49   -487
279    -38    -29   -464
280     -9     -2   -459
281     14     19   -433
282     31      2   -442
283     28    -24   -438
284     35    -46   -433
285     21    -91   -433
286     16   -116   -435
287      4   -111   -431
288      2   -116   -442
289     33   -113   -405
290     28    -83   -410
291     31    -61   -393
292     46    -33   -383
293     49     20   -385
294     54     44   -360
295     68     72   -343
296     88     69   -330
297    117     56   -302
298    169     -9   -192
299    155    -88   -142

Average magnitude (default Hm) and sigma of 300 vectors =  369.4,  106.3

Reject outliers? (0 or d, reject if > d*sigma from mean) 2
Rejection level selected:  2.0

Rejecting measurements if abs(vector_length-average)/(std. dev.) >   2.0
reject #73,     57.0    -17.0     89.0
reject #74,    124.0      2.0      9.0
reject #100,     49.0     33.0    108.0
reject #101,    103.0     33.0     50.0
reject #102,    119.0     49.0      0.0
reject #238,     22.0    124.0     66.0
reject #239,     34.0     80.0    106.0
reject #240,     63.0     25.0     94.0
reject #241,     53.0     -6.0    111.0
reject #242,     51.0    -40.0    111.0

Number of measurements to be rejected: 10, accepted: 290

290 measurements processed, expected 290

Expected norm of local field vector Hm? (Enter 0 for default    369.4) 0

Set Hm =    369.4

Combined bias vector B:
 -156.70   -52.79  -141.07

Correction matrix Ainv, using Hm=   369.4:
  1.12823  -0.01142   0.00980
 -0.01142   1.09539   0.00927
  0.00980   0.00927   1.10625

Where Hcalc = Ainv*(H-B)

Code initialization statements...

 float B[3]
 { -156.70,  -52.79, -141.07};

 float Ainv[3][3]
  {{  1.12823, -0.01142,  0.00980},
  { -0.01142,  1.09539,  0.00927},
  {  0.00980,  0.00927,  1.10625}};
 output filename for corrected values (csv)
